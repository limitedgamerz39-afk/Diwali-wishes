<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Diwali Wishes & Shayari 2025</title>
    
    <!-- Open Graph Meta Tags for Social Media Preview -->
    <meta property="og:title" content="Happy Diwali 2025 üéÜ">
    <meta property="og:description" content="‡§∂‡•Å‡§≠ ‡§¶‡•Ä‡§™‡§æ‡§µ‡§≤‡•Ä! ‡§Ö‡§™‡§®‡•Ä ‡§µ‡§ø‡§∂‡•á‡§∑ ‡§∂‡§æ‡§Ø‡§∞‡•Ä ‡§¶‡•á‡§ñ‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§ï‡•ç‡§≤‡§ø‡§ï ‡§ï‡§∞‡•á‡§Ç ü™î">
    <meta property="og:image" content="https://i.imgur.com/6J8Y7Ea.png">
    <meta property="og:url" content="https://diwali-wishes.vercel.app">
    <meta property="og:type" content="website">
    
    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Happy Diwali 2025 üéÜ">
    <meta name="twitter:description" content="‡§∂‡•Å‡§≠ ‡§¶‡•Ä‡§™‡§æ‡§µ‡§≤‡•Ä! ‡§Ö‡§™‡§®‡•Ä ‡§µ‡§ø‡§∂‡•á‡§∑ ‡§∂‡§æ‡§Ø‡§∞‡•Ä ‡§¶‡•á‡§ñ‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§ï‡•ç‡§≤‡§ø‡§ï ‡§ï‡§∞‡•á‡§Ç ü™î">
    <meta name="twitter:image" content="https://i.imgur.com/6J8Y7Ea.png">
    
    <!-- WhatsApp Meta Tags -->
    <meta property="og:site_name" content="Diwali Wishes & Shayari">
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Poppins:wght@300;400;500;600&family=Noto+Sans+Devanagari:wght@400;500&display=swap" rel="stylesheet">
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #1a0b2e, #4a1e6d);
            color: #fff;
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            position: relative;
            z-index: 10;
        }
        
        header {
            text-align: center;
            margin-bottom: 30px;
            padding-top: 20px;
        }
        
        h1 {
            font-family: 'Great Vibes', cursive;
            font-size: 3rem;
            color: #ffd700;
            text-shadow: 0 0 10px rgba(255, 215, 0, 0.7);
            margin-bottom: 10px;
        }
        
        .subtitle {
            font-size: 1.2rem;
            color: #ffa500;
            margin-bottom: 20px;
        }
        
        .card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            margin-bottom: 30px;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .welcome-message {
            font-size: 1.5rem;
            margin-bottom: 25px;
            color: #ffd700;
            font-weight: 500;
        }
        
        .input-group {
            margin-bottom: 20px;
        }
        
        input {
            width: 100%;
            padding: 15px;
            border-radius: 50px;
            border: none;
            background: rgba(255, 255, 255, 0.9);
            font-size: 1rem;
            text-align: center;
            margin-bottom: 15px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }
        
        button {
            background: linear-gradient(135deg, #ff9800, #ff5722);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 50px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(255, 87, 34, 0.4);
            margin: 10px;
        }
        
        button:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(255, 87, 34, 0.6);
        }
        
        button:disabled {
            background: #cccccc;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        .greeting-display {
            display: none;
        }
        
        .personal-greeting {
            font-size: 1.8rem;
            color: #ffd700;
            margin-bottom: 20px;
            font-weight: 500;
        }
        
        .shayari-container {
            background: rgba(0, 0, 0, 0.3);
            padding: 20px;
            border-radius: 15px;
            margin: 25px 0;
            border-left: 5px solid #ff9800;
        }
        
        .shayari-text {
            font-family: 'Noto Sans Devanagari', sans-serif;
            font-size: 1.4rem;
            line-height: 1.6;
            color: #fff;
        }
        
        .button-group {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            margin-top: 20px;
        }
        
        .share-btn {
            background: linear-gradient(135deg, #4CAF50, #2E7D32);
        }
        
        .next-btn {
            background: linear-gradient(135deg, #2196F3, #0D47A1);
        }
        
        /* Ad Container Styles */
        .ad-container {
            width: 100%;
            margin: 20px 0;
            text-align: center;
            display: none;
        }
        
        .ad-label {
            font-size: 0.8rem;
            color: rgba(255, 255, 255, 0.7);
            margin-bottom: 5px;
        }
        
        #admob-ad {
            width: 100%;
            height: 100px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto;
            position: relative;
            overflow: hidden;
        }
        
        .ad-content {
            padding: 10px;
            text-align: center;
        }
        
        .ad-title {
            font-weight: bold;
            color: #ffd700;
            margin-bottom: 5px;
        }
        
        .ad-description {
            font-size: 0.9rem;
            color: rgba(255, 255, 255, 0.8);
            margin-bottom: 10px;
        }
        
        .ad-close {
            position: absolute;
            top: 5px;
            right: 10px;
            background: none;
            border: none;
            color: white;
            font-size: 1.2rem;
            cursor: pointer;
            padding: 0;
            margin: 0;
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        footer {
            text-align: center;
            margin-top: 30px;
            padding: 20px;
            color: rgba(255, 255, 255, 0.7);
            font-size: 0.9rem;
        }
        
        /* Animation Elements */
        .diya {
            position: absolute;
            width: 60px;
            height: 60px;
            background: radial-gradient(circle, #ff9800, #ff5722);
            border-radius: 50% 50% 40% 40%;
            box-shadow: 0 0 20px #ff9800, 0 0 40px #ff5722;
            z-index: 1;
            animation: flicker 3s infinite alternate;
        }
        
        .diya::after {
            content: '';
            position: absolute;
            top: -15px;
            left: 50%;
            transform: translateX(-50%);
            width: 20px;
            height: 30px;
            background: #ffd700;
            border-radius: 50% 50% 20% 20%;
            box-shadow: 0 0 10px #ffd700;
        }
        
        .sparkle {
            position: absolute;
            width: 8px;
            height: 8px;
            background: #fff;
            border-radius: 50%;
            box-shadow: 0 0 10px #fff, 0 0 20px #ffd700;
            animation: float 6s infinite ease-in-out;
        }
        
        .firework {
            position: absolute;
            width: 5px;
            height: 5px;
            border-radius: 50%;
            box-shadow: 0 0 10px #fff, 0 0 20px #ff5722;
            animation: explode 4s infinite;
        }
        
        @keyframes flicker {
            0%, 100% { opacity: 0.8; transform: scale(1); }
            50% { opacity: 1; transform: scale(1.1); }
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0) rotate(0deg); opacity: 0; }
            50% { transform: translateY(-20px) rotate(180deg); opacity: 1; }
        }
        
        @keyframes explode {
            0% { transform: translateY(0) scale(1); opacity: 1; }
            100% { transform: translateY(-100px) scale(3); opacity: 0; }
        }
        
        /* Responsive Design */
        @media (max-width: 768px) {
            h1 {
                font-size: 2.5rem;
            }
            
            .card {
                padding: 20px;
            }
            
            .personal-greeting {
                font-size: 1.5rem;
            }
            
            .shayari-text {
                font-size: 1.2rem;
            }
            
            .button-group {
                flex-direction: column;
                align-items: center;
            }
            
            button {
                width: 80%;
                margin: 5px 0;
            }
            
            #admob-ad {
                height: 90px;
            }
        }
        
        @media (max-width: 480px) {
            h1 {
                font-size: 2rem;
            }
            
            .welcome-message {
                font-size: 1.2rem;
            }
            
            .personal-greeting {
                font-size: 1.3rem;
            }
            
            .shayari-text {
                font-size: 1.1rem;
            }
            
            #admob-ad {
                height: 80px;
            }
        }
    </style>
</head>
<body>
    <!-- Background Animation Elements -->
    <div id="animation-container"></div>
    
    <div class="container">
        <header>
            <h1>Happy Diwali 2025</h1>
            <p class="subtitle">Celebrate the Festival of Lights with Special Wishes</p>
        </header>
        
        <main>
            <div class="card welcome-card" id="welcome-card">
                <p class="welcome-message">‡§Ö‡§™‡§®‡§æ ‡§®‡§æ‡§Æ ‡§°‡§æ‡§≤‡•á‡§Ç ‡§î‡§∞ ‡§™‡§æ‡§®‡•á ‡§Ö‡§™‡§®‡•Ä Special Diwali ‡§∂‡•Å‡§≠‡§ï‡§æ‡§Æ‡§®‡§æ‡§è‡§Å üéá</p>
                
                <div class="input-group">
                    <input type="text" id="name-input" placeholder="Enter your name">
                </div>
                
                <button id="generate-btn">Generate My Greeting</button>
            </div>
            
            <div class="card greeting-display" id="greeting-display">
                <h2 class="personal-greeting" id="personal-greeting"></h2>
                
                <div class="shayari-container">
                    <p class="shayari-text" id="shayari-text"></p>
                </div>
                
                <!-- AdMob Ad Container -->
                <div class="ad-container" id="ad-container">
                    <div class="ad-label">Advertisement</div>
                    <div id="admob-ad">
                        <button class="ad-close" id="ad-close">√ó</button>
                        <div class="ad-content">
                            <div class="ad-title">Special Diwali Offer!</div>
                            <div class="ad-description">Get 50% off on festive products</div>
                            <button class="ad-action" style="background: #4CAF50; color: white; border: none; padding: 5px 10px; border-radius: 4px; font-size: 0.8rem;">Shop Now</button>
                        </div>
                    </div>
                </div>
                
                <div class="button-group">
                    <button class="share-btn" id="share-btn">Share My Greeting</button>
                    <button class="next-btn" id="next-btn">Next Shayari</button>
                </div>
            </div>
        </main>
        
        <footer>
            <p>Wishing you a joyous and prosperous Diwali! ü™î‚ú®</p>
        </footer>
    </div>

    <script>
        // Shayari Database
        const shayaris = [
            "‡§¶‡•Ä‡§™‡•ã‡§Ç ‡§ï‡•Ä ‡§∞‡•ã‡§∂‡§®‡•Ä, ‡§™‡§ü‡§æ‡§ñ‡•ã‡§Ç ‡§ï‡•Ä ‡§Ü‡§µ‡§æ‡§ú,\n‡§∏‡§¨‡§ï‡•á ‡§ú‡•Ä‡§µ‡§® ‡§Æ‡•á‡§Ç ‡§≤‡§æ‡§è ‡§ñ‡•Å‡§∂‡§ø‡§Ø‡•ã‡§Ç ‡§ï‡•Ä ‡§¨‡§π‡§æ‡§∞,\n‡§Ü‡§™ ‡§∏‡§≠‡•Ä ‡§ï‡•ã ‡§¶‡•Ä‡§™‡§æ‡§µ‡§≤‡•Ä ‡§ï‡•Ä ‡§π‡§æ‡§∞‡•ç‡§¶‡§ø‡§ï ‡§∂‡•Å‡§≠‡§ï‡§æ‡§Æ‡§®‡§æ‡§è‡§Ç!",
            "‡§≤‡§ï‡•ç‡§∑‡•ç‡§Æ‡•Ä ‡§Ü‡§è‡§Ç‡§ó‡•Ä ‡§á‡§§‡§®‡•Ä, ‡§ï‡§ø ‡§∏‡§¨ ‡§ï‡•Å‡§õ ‡§≠‡•Ç‡§≤ ‡§ú‡§æ‡§è‡§Ç‡§ó‡•á,\n‡§ó‡§£‡•á‡§∂ ‡§ú‡•Ä ‡§ï‡§æ ‡§Ü‡§∂‡•Ä‡§∞‡•ç‡§µ‡§æ‡§¶, ‡§∏‡§¨ ‡§ï‡•Å‡§õ ‡§™‡§æ ‡§ú‡§æ‡§è‡§Ç‡§ó‡•á,\n‡§Æ‡•Å‡§¨‡§æ‡§∞‡§ï ‡§π‡•ã ‡§Ü‡§™‡§ï‡•ã ‡§¶‡•Ä‡§™‡§æ‡§µ‡§≤‡•Ä ‡§ï‡§æ ‡§§‡•ç‡§Ø‡•ã‡§π‡§æ‡§∞!",
            "‡§ú‡§≤ ‡§â‡§†‡•á ‡§¶‡•Ä‡§™‡§ï, ‡§ú‡§ó‡§Æ‡§ó‡§æ‡§è ‡§Ü‡§Ç‡§ó‡§®,\n‡§ñ‡•Å‡§∂‡§ø‡§Ø‡•ã‡§Ç ‡§ï‡•Ä ‡§≤‡§π‡§∞, ‡§õ‡§æ ‡§ú‡§æ‡§è ‡§∏‡§æ‡§∞‡§æ ‡§∏‡§Ç‡§∏‡§æ‡§∞,\n‡§¶‡•Ä‡§™‡§æ‡§µ‡§≤‡•Ä ‡§ï‡•Ä ‡§∂‡•Å‡§≠‡§ï‡§æ‡§Æ‡§®‡§æ‡§è‡§Ç!",
            "‡§∞‡•ã‡§∂‡§®‡•Ä ‡§ï‡§æ ‡§§‡•ç‡§Ø‡•ã‡§π‡§æ‡§∞ ‡§≤‡•á‡§ï‡§∞ ‡§Ü‡§Ø‡§æ ‡§π‡•à ‡§∏‡§Ç‡§¶‡•á‡§∂,\n‡§ñ‡•Å‡§∂ ‡§∞‡§π‡•ã, ‡§Æ‡•Å‡§∏‡•ç‡§ï‡•Å‡§∞‡§æ‡§ì, ‡§Ø‡§π‡•Ä ‡§π‡•à ‡§™‡•à‡§ó‡§æ‡§Æ,\n‡§¶‡•Ä‡§™‡§æ‡§µ‡§≤‡•Ä ‡§ï‡•Ä ‡§π‡§æ‡§∞‡•ç‡§¶‡§ø‡§ï ‡§∂‡•Å‡§≠‡§ï‡§æ‡§Æ‡§®‡§æ‡§è‡§Ç!",
            "‡§¶‡•Ä‡§™ ‡§ú‡§≤‡§æ‡§è‡§Ç, ‡§ñ‡•Å‡§∂‡§ø‡§Ø‡§æ‡§Ç ‡§Æ‡§®‡§æ‡§è‡§Ç,\n‡§∏‡§¨‡§ï‡•á ‡§ú‡•Ä‡§µ‡§® ‡§Æ‡•á‡§Ç ‡§∞‡•ã‡§∂‡§®‡•Ä ‡§≤‡§æ‡§è‡§Ç,\n‡§¶‡•Ä‡§™‡§æ‡§µ‡§≤‡•Ä ‡§ï‡•Ä ‡§∂‡•Å‡§≠‡§ï‡§æ‡§Æ‡§®‡§æ‡§è‡§Ç!",
            "‡§¶‡•Ä‡§™‡•ã‡§Ç ‡§ï‡•Ä ‡§Æ‡§æ‡§≤‡§æ, ‡§∞‡•ã‡§∂‡§®‡•Ä ‡§ï‡§æ ‡§∏‡§Ç‡§ó,\n‡§ñ‡•Å‡§∂‡§ø‡§Ø‡•ã‡§Ç ‡§ï‡•Ä ‡§¨‡§π‡§æ‡§∞, ‡§Æ‡•Å‡§¨‡§æ‡§∞‡§ï ‡§π‡•ã ‡§Ø‡§π ‡§∞‡§Ç‡§ó,\n‡§¶‡•Ä‡§™‡§æ‡§µ‡§≤‡•Ä ‡§ï‡•Ä ‡§∂‡•Å‡§≠‡§ï‡§æ‡§Æ‡§®‡§æ‡§è‡§Ç!",
            "‡§¶‡•Ä‡§™ ‡§ú‡§≤‡•á‡§Ç, ‡§ò‡§∞-‡§ò‡§∞ ‡§ñ‡•Å‡§∂‡§ø‡§Ø‡§æ‡§Å ‡§õ‡§æ‡§è‡§Ç,\n‡§∏‡§¨‡§ï‡•á ‡§Æ‡§® ‡§Æ‡•á‡§Ç ‡§™‡•ç‡§∞‡•á‡§Æ ‡§î‡§∞ ‡§∏‡§¶‡•ç‡§≠‡§æ‡§µ‡§®‡§æ ‡§ú‡§æ‡§ó‡•á,\n‡§¶‡•Ä‡§™‡§æ‡§µ‡§≤‡•Ä ‡§ï‡•Ä ‡§π‡§æ‡§∞‡•ç‡§¶‡§ø‡§ï ‡§∂‡•Å‡§≠‡§ï‡§æ‡§Æ‡§®‡§æ‡§è‡§Ç!",
            "‡§∞‡•ã‡§∂‡§®‡•Ä ‡§ï‡§æ ‡§™‡§∞‡•ç‡§µ ‡§π‡•à, ‡§Ö‡§Ç‡§ß‡§ï‡§æ‡§∞ ‡§Æ‡§ø‡§ü‡§æ‡§è,\n‡§∏‡§¨‡§ï‡•á ‡§ú‡•Ä‡§µ‡§® ‡§Æ‡•á‡§Ç ‡§ñ‡•Å‡§∂‡§ø‡§Ø‡§æ‡§Å ‡§≤‡§æ‡§è,\n‡§¶‡•Ä‡§™‡§æ‡§µ‡§≤‡•Ä ‡§ï‡•Ä ‡§∂‡•Å‡§≠‡§ï‡§æ‡§Æ‡§®‡§æ‡§è‡§Ç!"
        ];
        
        // DOM Elements
        const welcomeCard = document.getElementById('welcome-card');
        const greetingDisplay = document.getElementById('greeting-display');
        const nameInput = document.getElementById('name-input');
        const generateBtn = document.getElementById('generate-btn');
        const personalGreeting = document.getElementById('personal-greeting');
        const shayariText = document.getElementById('shayari-text');
        const shareBtn = document.getElementById('share-btn');
        const nextBtn = document.getElementById('next-btn');
        const animationContainer = document.getElementById('animation-container');
        const adContainer = document.getElementById('ad-container');
        const admobAd = document.getElementById('admob-ad');
        const adClose = document.getElementById('ad-close');
        
        // Current shayari index
        let currentShayariIndex = 0;
        let adShown = false;
        
        // Initialize the app
        function init() {
            // Check if name is in URL parameters
            const urlParams = new URLSearchParams(window.location.search);
            const nameFromUrl = urlParams.get('name');
            
            if (nameFromUrl) {
                nameInput.value = decodeURIComponent(nameFromUrl);
                generateGreeting();
            }
            
            // Create background animations
            createAnimations();
            
            // Set up event listeners
            generateBtn.addEventListener('click', generateGreeting);
            shareBtn.addEventListener('click', handleShareClick);
            nextBtn.addEventListener('click', showNextShayari);
            adClose.addEventListener('click', closeAd);
            
            // Initialize AdMob (simulated)
            initializeAdMob();
        }
        
        // Generate personalized greeting
        function generateGreeting() {
            const name = nameInput.value.trim();
            
            if (!name) {
                alert('Please enter your name');
                return;
            }
            
            // Update meta tags for sharing
            updateMetaTags(name);
            
            // Show greeting display
            welcomeCard.style.display = 'none';
            greetingDisplay.style.display = 'block';
            
            // Set personalized greeting
            personalGreeting.textContent = `‡§∂‡•Å‡§≠ ‡§¶‡•Ä‡§™‡§æ‡§µ‡§≤‡•Ä, ${name}! ‚ú® ‡§Ü‡§™‡§ï‡•Ä ‡§ú‡§º‡§ø‡§Ç‡§¶‡§ó‡•Ä ‡§ñ‡•Å‡§∂‡§ø‡§Ø‡•ã‡§Ç ‡§î‡§∞ ‡§∞‡•ã‡§∂‡§®‡•Ä ‡§∏‡•á ‡§ú‡§ó‡§Æ‡§ó‡§æ‡§è ü™î`;
            
            // Show random shayari
            showRandomShayari();
            
            // Reset ad state
            adShown = false;
            adContainer.style.display = 'none';
            shareBtn.disabled = false;
        }
        
        // Show random shayari
        function showRandomShayari() {
            // Get a random shayari index
            currentShayariIndex = Math.floor(Math.random() * shayaris.length);
            shayariText.textContent = shayaris[currentShayariIndex];
        }
        
        // Show next shayari
        function showNextShayari() {
            // Cycle to next shayari
            currentShayariIndex = (currentShayariIndex + 1) % shayaris.length;
            shayariText.textContent = shayaris[currentShayariIndex];
        }
        
        // Handle share button click
        function handleShareClick() {
            if (!adShown) {
                // Show ad first
                showAd();
            } else {
                // Ad already shown, proceed with sharing
                shareGreeting();
            }
        }
        
        // Show AdMob ad
        function showAd() {
            // Disable share button while ad is showing
            shareBtn.disabled = true;
            
            // Show ad container with animation
            adContainer.style.display = 'block';
            adContainer.style.opacity = '0';
            adContainer.style.transform = 'translateY(20px)';
            
            setTimeout(() => {
                adContainer.style.transition = 'all 0.5s ease';
                adContainer.style.opacity = '1';
                adContainer.style.transform = 'translateY(0)';
            }, 100);
            
            // Simulate ad loading
            simulateAdLoad();
            
            // Mark ad as shown
            adShown = true;
        }
        
        // Simulate AdMob ad loading
        function simulateAdLoad() {
            // In a real implementation, this would be replaced with actual AdMob code
            console.log('Loading AdMob ad...');
            
            // Simulate ad loading delay
            setTimeout(() => {
                // Enable share button after ad is loaded
                shareBtn.disabled = false;
                shareBtn.textContent = 'Share Now';
                
                // Add a small indicator that ad is ready
                admobAd.style.boxShadow = '0 0 15px rgba(76, 175, 80, 0.7)';
            }, 2000);
        }
        
        // Close ad
        function closeAd() {
            adContainer.style.display = 'none';
            // Enable sharing even if ad is closed
            shareBtn.disabled = false;
        }
        
        // Share greeting
        function shareGreeting() {
            const name = nameInput.value.trim();
            const shareUrl = `${window.location.origin}${window.location.pathname}?name=${encodeURIComponent(name)}`;
            
            if (navigator.share) {
                navigator.share({
                    title: 'Happy Diwali 2025 üéÜ',
                    text: `‡§∂‡•Å‡§≠ ‡§¶‡•Ä‡§™‡§æ‡§µ‡§≤‡•Ä, ${name}! ‡§Ö‡§™‡§®‡•Ä ‡§∂‡§æ‡§Ø‡§∞‡•Ä ‡§¶‡•á‡§ñ‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§ï‡•ç‡§≤‡§ø‡§ï ‡§ï‡§∞‡•á‡§Ç ‚ú®`,
                    url: shareUrl
                })
                .then(() => {
                    console.log('Successful share');
                    // Reset ad state after successful share
                    adShown = false;
                    shareBtn.textContent = 'Share My Greeting';
                    admobAd.style.boxShadow = 'none';
                })
                .catch((error) => {
                    console.log('Error sharing:', error);
                    // Reset button state on error
                    shareBtn.disabled = false;
                });
            } else {
                // Fallback: copy to clipboard
                navigator.clipboard.writeText(shareUrl)
                    .then(() => {
                        alert('Link copied to clipboard! Share it with your friends.');
                        // Reset ad state after successful share
                        adShown = false;
                        shareBtn.textContent = 'Share My Greeting';
                        admobAd.style.boxShadow = 'none';
                    })
                    .catch(err => {
                        console.error('Failed to copy: ', err);
                        // Alternative fallback
                        prompt('Copy this link to share:', shareUrl);
                        // Reset ad state
                        adShown = false;
                        shareBtn.textContent = 'Share My Greeting';
                        admobAd.style.boxShadow = 'none';
                    });
            }
        }
        
        // Update meta tags for sharing
        function updateMetaTags(name) {
            // Update Open Graph tags
            document.querySelector('meta[property="og:title"]').setAttribute('content', `Happy Diwali 2025 üéÜ - ${name}`);
            document.querySelector('meta[property="og:description"]').setAttribute('content', `‡§∂‡•Å‡§≠ ‡§¶‡•Ä‡§™‡§æ‡§µ‡§≤‡•Ä, ${name}! ‡§Ö‡§™‡§®‡•Ä ‡§µ‡§ø‡§∂‡•á‡§∑ ‡§∂‡§æ‡§Ø‡§∞‡•Ä ‡§¶‡•á‡§ñ‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§ï‡•ç‡§≤‡§ø‡§ï ‡§ï‡§∞‡•á‡§Ç ü™î`);
            document.querySelector('meta[property="og:url"]').setAttribute('content', `${window.location.origin}${window.location.pathname}?name=${encodeURIComponent(name)}`);
            
            // Update Twitter tags
            document.querySelector('meta[name="twitter:title"]').setAttribute('content', `Happy Diwali 2025 üéÜ - ${name}`);
            document.querySelector('meta[name="twitter:description"]').setAttribute('content', `‡§∂‡•Å‡§≠ ‡§¶‡•Ä‡§™‡§æ‡§µ‡§≤‡•Ä, ${name}! ‡§Ö‡§™‡§®‡•Ä ‡§µ‡§ø‡§∂‡•á‡§∑ ‡§∂‡§æ‡§Ø‡§∞‡•Ä ‡§¶‡•á‡§ñ‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§ï‡•ç‡§≤‡§ø‡§ï ‡§ï‡§∞‡•á‡§Ç ü™î`);
        }
        
        // Create background animations
        function createAnimations() {
            // Create diyas
            for (let i = 0; i < 8; i++) {
                const diya = document.createElement('div');
                diya.className = 'diya';
                diya.style.left = `${Math.random() * 100}%`;
                diya.style.top = `${Math.random() * 100}%`;
                diya.style.animationDelay = `${Math.random() * 3}s`;
                animationContainer.appendChild(diya);
            }
            
            // Create sparkles
            for (let i = 0; i < 20; i++) {
                const sparkle = document.createElement('div');
                sparkle.className = 'sparkle';
                sparkle.style.left = `${Math.random() * 100}%`;
                sparkle.style.top = `${Math.random() * 100}%`;
                sparkle.style.animationDelay = `${Math.random() * 6}s`;
                animationContainer.appendChild(sparkle);
            }
            
            // Create fireworks
            for (let i = 0; i < 15; i++) {
                const firework = document.createElement('div');
                firework.className = 'firework';
                firework.style.left = `${Math.random() * 100}%`;
                firework.style.top = `${Math.random() * 100}%`;
                firework.style.animationDelay = `${Math.random() * 4}s`;
                animationContainer.appendChild(firework);
            }
        }
        
        // Initialize AdMob (simulated for demo)
        function initializeAdMob() {
            // In a real implementation, you would initialize AdMob here
            // This is a simulation for demonstration purposes
            console.log('AdMob initialized');
            
            // Real AdMob initialization would look something like:
            // admob.initialize({
            //     appId: 'ca-app-pub-xxxxxxxx~xxxxxxxx',
            //     isTesting: true // Set to false for production
            // });
        }
        
        // Initialize the app when DOM is loaded
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>